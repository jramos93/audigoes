<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:panelGrid columns="5" styleClass="ui-panelgrid-blank">
		<p:outputLabel value="Fecha inicio" />
		<p:calendar id="consfechainiciohallazgo" value="#{consMB.fechaInicio}"
			pattern="dd/MM/yyyy" />

		<p:outputLabel value="Fecha fin" />
		<p:calendar id="consfechafinhallazgo" value="#{consMB.fechaFin}"
			pattern="dd/MM/yyyy" />

		<p:commandButton id="btnBuscarHallazgos" value="Buscar"
			icon="ui-icon ui-icon-check"
			actionListener="#{consMB.fillHallazgosList}" update="dtAuditorias"
			process="@this consfechainiciohallazgo consfechafinhallazgo" />
	</p:panelGrid>
	<p:panelGrid columns="4" rendered="false"
		style="width:90%; margin: auto; text-align:center"
		styleClass="ui-panelgrid-blank">
		<p:panel>
			<p:panelGrid>
				<p:row>
					<p:column>
						<h:outputLabel value="Estado A"
							style="font-weight:bold !important; font-size:20px !important; vertical-align: bottom;"></h:outputLabel>
					</p:column>
					<p:column rowspan="2" style="text-align:right">
						<p:graphicImage url="/resources/images/icons/icon.png"
							style="vertical-align: middle; align:right" height="80"></p:graphicImage>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="##"
							style="font-weight:bold !important; font-size:26px !important; vertical-align: top;"></h:outputLabel>
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:panel>
		<p:panel>
			<p:panelGrid>
				<p:row>
					<p:column>
						<h:outputLabel value="Estado A"
							style="font-weight:bold !important; font-size:20px !important; vertical-align: bottom;"></h:outputLabel>
					</p:column>
					<p:column rowspan="2" style="text-align:right">
						<p:graphicImage url="/resources/images/icons/icon.png"
							style="vertical-align: middle; align:right" height="80"></p:graphicImage>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="##"
							style="font-weight:bold !important; font-size:26px !important; vertical-align: top;"></h:outputLabel>
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:panel>
		<p:panel>
			<p:panelGrid>
				<p:row>
					<p:column>
						<h:outputLabel value="Estado A"
							style="font-weight:bold !important; font-size:20px !important; vertical-align: bottom;"></h:outputLabel>
					</p:column>
					<p:column rowspan="2" style="text-align:right">
						<p:graphicImage url="/resources/images/icons/icon.png"
							style="vertical-align: middle; align:right" height="80"></p:graphicImage>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="##"
							style="font-weight:bold !important; font-size:26px !important; vertical-align: top;"></h:outputLabel>
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:panel>
		<p:panel>
			<p:panelGrid>
				<p:row>
					<p:column>
						<h:outputLabel value="Estado A"
							style="font-weight:bold !important; font-size:20px !important; vertical-align: bottom;"></h:outputLabel>
					</p:column>
					<p:column rowspan="2" style="text-align:right">
						<p:graphicImage url="/resources/images/icons/icon.png"
							style="vertical-align: middle; align:right" height="80"></p:graphicImage>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="##"
							style="font-weight:bold !important; font-size:26px !important; vertical-align: top;"></h:outputLabel>
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:panel>
	</p:panelGrid>

	<p:separator />
	<div class="ui-fluid p-formgrid p-grid">
		<p:dataTable id="dtHallazgosIns" widgetVar="wvHallazgosIns"
			reflow="true" var="ced" style="margin-top:20px;" paginator="true"
			value="#{consMB.hallazgosList}" paginatorPosition="bottom"
			filteredValue="#{consMB.filteredHallazgosList}"
			rowsPerPageLabel="5,10,15,20,25" rows="25"
			paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
			currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros">
			<p:column style="width:16px">
				<p:rowToggler />
			</p:column>

			<p:column headerText="Título Hallazgo" sortBy="#{ced.cedTitulo}"
				filterBy="#{ced.cedTitulo}" filterMatchMode="contains">
				<h:outputText value="#{ced.cedTitulo}" />
			</p:column>
			<p:column headerText="Estado" style="width:auto;">
				<h:outputText value="#{ced.cedEstado}" converter="estadoHallazgo" />
			</p:column>
			<p:rowExpansion>
				<p:panelGrid columns="2"
					columnClasses="ui-g-12 ui-md-4 ui-lg-2, ui-g-12 ui-md-8 ui-lg-4, ui-g-12 ui-md-4 ui-lg-2, ui-g-12 ui-md-8 ui-lg-4"
					layout="grid"
					styleClass="ui-panelgrid-blank form-group form-elements">
					<p:outputLabel value="Auditoría:" style="font-weight:bold;" />
					<p:inputTextarea value="#{ced.auditoria.audNombre}" />

					<p:outputLabel value="Código Auditoría" style="font-weight:bold;" />
					<p:inputTextarea value="#{ced.auditoria.audCodigo}" />
				</p:panelGrid>
				<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
					styleClass="ui-panelgrid-blank form-group form-elements">

					<p:outputLabel for="hallazgoCondicion" value="Condición:"
						style="font-weight:bold;" />
					<p:inputTextarea id="hallazgoCondicion" value="#{ced.cedCondicion}"
						readonly="true" />

					<p:outputLabel for="hallazgoCriterio" value="Criterio:"
						style="font-weight:bold;" />
					<p:inputTextarea id="hallazgoCriterio" value="#{ced.cedCriterio}"
						readonly="true" />

					<p:outputLabel for="hallazgoCausa" value="Causa:"
						style="font-weight:bold;" />
					<p:inputTextarea id="hallazgoCausa" value="#{ced.cedCausa}"
						readonly="true" />

					<p:outputLabel for="hallazgoEfecto" value="Efecto:"
						style="font-weight:bold;" />
					<p:inputTextarea id="hallazgoEfecto" value="#{ced.cedEfecto}"
						readonly="true" />


				</p:panelGrid>
				<p:panelGrid columns="4"
					columnClasses="ui-g-12 ui-md-4 ui-lg-2, ui-g-12 ui-md-8 ui-lg-4, ui-g-12 ui-md-4 ui-lg-2, ui-g-12 ui-md-8 ui-lg-4"
					layout="grid"
					styleClass="ui-panelgrid-blank form-group form-elements">
					<p:outputLabel value="Fecha Elaborado:" style="font-weight:bold;" />
					<p:inputText value="#{ced.cedFechaElaboro}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</p:inputText>

					<p:outputLabel value="Fecha Revisado:" style="font-weight:bold;" />
					<p:inputText value="#{ced.cedFechaReviso}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</p:inputText>
				</p:panelGrid>
				<p:panelGrid columns="2"
					columnClasses="ui-g-9 ui-lg-10,ui-g-3 ui-md-4 ui-lg-2"
					layout="grid" rendered="false"
					styleClass="ui-panelgrid-blank form-group form-elements">
					<p:column></p:column>
					<p:commandButton id="btnVerDetalleHallazgo" value="Ver Auditoría" icon="fa fa-check"/>
				</p:panelGrid>
			</p:rowExpansion>
		</p:dataTable>
	</div>
</ui:composition>