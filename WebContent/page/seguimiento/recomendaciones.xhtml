<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<h:form id="frmSeguimiento">
		<p:panel
			rendered="#{ceduMB.status eq 'SEARCH' or ceduMB.status eq 'VIEW'}">
			<div align="left" style="margin-top: 50px; float: left;">
				<p:commandButton id="btnCancel" actionListener="#{recMB.onCancel}"
					process="@this" value="Regresar" icon="pi pi-arrow-left"
					style="float:left;" update="@form" styleClass="pink-btn raised-btn"
					action="/page/planeacion/auditoria.xhtml">
				</p:commandButton>
			</div>
			<div align="right" style="margin-top: 50px; float: right;">
				<p:commandButton id="btnNotificarSeguimiento"
					oncomplete="PF('wvCorreo').show();"
					actionListener="#{segMB.prepararCorreo}"
					value="Iniciar Seguimiento" styleClass="blue-btn raised-btn"
					title="Clic para iniciar el proceso de la notificacion de inicio de seguimiento"
					process="@form" icon="pi pi-check-circle" style="float:Righ;"
					rendered="#{segMB.perEdit and false}">
				</p:commandButton>


				<p:commandButton id="btnIniciarSeguimiento"
					action="#{segMB.preparaCorreoInicioSeguimiento}"
					oncomplete="PF('wvCorreoIniSeguimiento').show();"
					rendered="#{segMB.status eq 'NEW'}"
					title="Clic para redactar el correo de inicio de seguimiento"
					process="@this" value="Asignar Seguimiento"
					icon="pi pi-check-circle" style="float:left;"
					styleClass="blue-btn raised-btn" update=":frmCorreoIniSeguimiento">
				</p:commandButton>
				<p:commandButton id="btnFinalizarSeguimiento" icon="pi pi-power-off"
					value="Finalizar Seguimiento" styleClass="raised-btn"
					actionListener="#{segMB.finalizarSeguimiento}" update="@form"
					rendered="#{segMB.registro.segEstado eq 1}">
				</p:commandButton>
			</div>
			<div class="name" align="center" style="margin-top: 100px;">
				<h:outputText
					style="float:right; font-size:large; font-weight: bold; color:#2ab1be;"
					value="#{segMB.registro.segEstado}" converter="estadoSeguimiento"></h:outputText>
				<h:outputText
					style="float:right; font-size:large; font-weight: bold; color:#525c65; margin-right:10px;"
					value="Estado:"></h:outputText>
				<br /> <br /> <span class="app-name">Seguimiento Hallazgos
					de Auditoría </span>
				<h3>Auditoría:
					#{segMB.auditoria.audCodigo}-#{segMB.auditoria.audNombre}</h3>
			</div>


			<div class="ui-fluid p-formgrid p-grid">
				<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
					styleClass="ui-panelgrid-blank form-group form-elements">

					<p:outputLabel for="fechainicio"
						value="Fecha inicio de seguimiento:" style="font-weight:bold;" />
					<p:outputLabel id="fechainicio"
						value="#{segMB.registro.segFecInicio}">
						<f:convertDateTime pattern="dd-MM-yyyy" />
					</p:outputLabel>

					<p:outputLabel for="fechafin" value="Fecha fin de seguimiento:"
						style="font-weight:bold;" />
					<p:outputLabel id="fechafin" value="#{segMB.registro.segFecFin}">
						<f:convertDateTime pattern="dd-MM-yyyy" />
					</p:outputLabel>

					<p:outputLabel value="Personal Asignado" style="font-weight:bold;" />
					<p:dataGrid id="listAuditores"
						value="#{segMB.auditoria.auditoriaResponsable}" var="aud"
						columns="1">
						<h:outputText
							value="Auditor: #{aud.usuario.usuNombre} #{aud.usuario.usuApellido}"
							rendered="#{aud.aurRol==1}" />
						<h:outputText
							value="Coordinador: #{aud.usuario.usuNombre} #{aud.usuario.usuApellido}"
							rendered="#{aud.aurRol==0}" style="font-weight:bold;" />
					</p:dataGrid>
					<p:separator />
				</p:panelGrid>
			</div>
			<p:tabView id="tvSeguimientoAuditoria">
				<p:tab title="Seguimiento">
					<p:dataTable var="ced" value="#{ceduMB.listado}" reflow="true"
						widgetVar="wvHallazgos" id="dtHallazgos" style="margin-top:20px;"
						paginator="true" rowKey="#{ced.cedId}" rowIndexVar="cedIndex"
						selection="#{ceduMB.regSelected}" selectionMode="single"
						filteredValue="#{ceduMB.filteredCedula}"
						globalFilterFunction="#{ceduMB.globalFilterFunction}"
						paginatorPosition="bottom" rowsPerPageTemplate="5,10,15" rows="5"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros">

						<p:ajax event="rowSelect" listener="#{ceduMB.onRowSelect}"
							update="dtHallazgos:tMenuHallazgos" />
						<f:facet name="header">
							<p:toolbar id="tMenuHallazgos">
								<p:toolbarGroup>
									<p:commandButton value="Visualizar" icon="pi pi-eye"
										update=":frmSeguimiento, :frmHallazgo"
										rendered="#{ceduMB.registro.selected}"
										actionListener="#{ceduMB.onShowSelected}">
									</p:commandButton>

									<p:commandButton value="Análisis" icon="pi pi-pencil"
										update=":frmSeguimiento, :frmHallazgo"
										rendered="#{ceduMB.registro.selected and ceduMB.registro.cedEstado eq 10 and ceduMB.perEdit}"
										actionListener="#{ceduMB.onEditSelected}">
									</p:commandButton>

									<p:commandButton value="Supervisar" icon="pi pi-pencil"
										update=":frmSeguimiento, :frmHallazgo"
										rendered="#{ceduMB.registro.selected and !ceduMB.rolAuditor and ceduMB.registro.cedEstado ne 12}"
										actionListener="#{ceduMB.onEditSelected}">
									</p:commandButton>

									<p:commandButton id="btnRecomendaciones" value="Comentarios"
										icon="pi pi-plus"
										rendered="#{segMB.cedulaSelected.selected and segMB.registro.segFecInicio != null}"
										action="#{segMB.mostrarComentarios}" styleClass="raised-btn"
										process="@this">
									</p:commandButton>
								</p:toolbarGroup>
							</p:toolbar>
						</f:facet>

						<f:facet name="paginatorTopRight">
							<p:outputPanel>
								<h:outputText value="Búsqueda global: " />
								<p:inputText id="globalFilter"
									onkeyup="PF('wvHallazgos').filter();" style="width:150px"
									placeholder="Ingresa una palabra" />
							</p:outputPanel>
						</f:facet>

						<p:column headerText="No." style="text-align:center; width:50px;">
							<h:outputText value="#{cedIndex+1}"></h:outputText>
						</p:column>

						<p:column headerText="Título">
							<h:outputText value="#{ced.cedTitulo}"></h:outputText>
						</p:column>

						<p:column headerText="Condición">
							<h:outputText value="#{ced.cedCondicion}"></h:outputText>
						</p:column>

						<p:column headerText="Criterio">
							<h:outputText value="#{ced.cedCriterio}"></h:outputText>
						</p:column>
						<p:column headerText="Valorización"
							style="text-align:center; width:100px;">
							<h:outputText value="#{ced.cedValorizacion}"
								converter="valorizacionHallazgo">
							</h:outputText>
						</p:column>
						<p:column headerText="Estado" rendered="false"
							style="text-align:center; width:100px;">
							<h:outputText value="#{ced.cedEstado}" converter="estadoHallazgo">
							</h:outputText>
						</p:column>
					</p:dataTable>
				</p:tab>

				<p:tab title="Informe de Seguimiento">
					<div align="left" style="float: left;">
						<p:commandButton id="btn" value="Guardar" icon="fa fa-check"
							rendered="#{segMB.registro.segEstado eq 1 and informeSegMB.perEnviar}"
							styleClass="raised-btn" actionListener="#{informeSegMB.onSave}"
							update="@form" />

						<p:commandButton id="btnInform"
							title="Clic para generar el informe" process="@this"
							value="Generar Informe" icon="pi pi-check-circle"
							rendered="#{segMB.registro.segEstado eq 1}"
							actionListener="#{informeSegMB.onGenerarInforme}"
							styleClass="purple-btn raised-btn"
							oncomplete="PF('wvPDF').show();">
						</p:commandButton>
					</div>
					<div align="right" style="float: right;">
						<p:commandButton id="btnEnviarInf"
							oncomplete="PF('wvCorreoInf').show();"
							rendered="#{informeSegMB.registro.infsEstado eq 4 and informeSegMB.perEnviar}"
							actionListener="#{informeSegMB.prepararCorreoInf}"
							title="Clic para enviar a revisión del informe" process="@this"
							value="Enviar a Revisión" icon="pi pi-check-circle"
							style="float:Righ;" styleClass="blue-btn raised-btn"
							update=":frmCorreoInf">
						</p:commandButton>
						<p:commandButton id="btnEnviarObsInf"
							oncomplete="PF('wvCorreoObsInf').show();"
							actionListener="#{informeSegMB.prepararCorreoObsInf}"
							rendered="#{informeSegMB.registro.infsEstado eq 5 and informeSegMB.perAutorizar}"
							title="Clic para enviar las observaciones al auditor"
							process="@this" value="Comunicar Observaciones"
							icon="pi pi-check-circle" style="float:left;"
							styleClass="blue-btn raised-btn" update=":frmCorreoObsInf">
						</p:commandButton>

						<p:commandButton id="btnFinInf"
							oncomplete="PF('wvCorreoFinInf').show();"
							rendered="#{informeSegMB.registro.infsEstado eq 5 and informeSegMB.perAutorizar}"
							actionListener="#{informeSegMB.prepararCorreoFinInf}"
							title="Clic para finalizar la revisión" process="@this"
							value="Finalizar Revisión" icon="pi pi-check-circle"
							style="float:left;" styleClass="blue-btn raised-btn"
							update=":frmCorreoFinInf">
						</p:commandButton>

						<p:commandButton id="btnEnviarObsInfApb"
							oncomplete="PF('wvCorreoObsInfApb').show();"
							actionListener="#{informeSegMB.prepararCorreoObsInfApb}"
							rendered="#{informeSegMB.registro.infsEstado eq 6 and informeSegMB.perAprobar}"
							title="Clic para enviar las observaciones al coordinador"
							process="@this" value="Comunicar Observaciones"
							icon="pi pi-check-circle" style="float:left;"
							styleClass="blue-btn raised-btn" update=":frmCorreoObsInfApb">
						</p:commandButton>

						<p:commandButton id="btnFinInfApb"
							oncomplete="PF('wvCorreoFinInfApb').show();"
							rendered="#{informeSegMB.registro.infsEstado eq 6 and informeSegMB.perAprobar}"
							actionListener="#{informeSegMB.prepararCorreoFinInfApb}"
							title="Clic para finalizar y aprobar el informe" process="@this"
							value="Aprobar" icon="pi pi-check-circle" style="float:left;"
							styleClass="blue-btn raised-btn" update=":frmCorreoFinInfApb">
						</p:commandButton>
					</div>
					<br/>
					<br/><br/>

					<div align="center" >
						<h:outputText rendered="#{informeSegMB.registro.infsEstado eq 4}"
							style="float:right; font-size:large; font-weight: bold; color:#2ab1be;"
							value="Elaboración Informe de Seguimiento"></h:outputText>
						<h:outputText rendered="#{informeSegMB.registro.infsEstado eq 5}"
							style="float:right; font-size:large; font-weight: bold; color:#2ab1be;"
							value="Revisión Informe de Seguimiento"></h:outputText>
						<h:outputText rendered="#{informeSegMB.registro.infsEstado eq 6}"
							style="float:right; font-size:large; font-weight: bold; color:#2ab1be;"
							value="Aprobación Informe de Seguimiento"></h:outputText>
						<h:outputText rendered="#{informeSegMB.registro.infsEstado eq 7}"
							style="float:right; font-size:large; font-weight: bold; color:#2ab1be;"
							value="Informe de Seguimiento Finalizado"></h:outputText>
						<h:outputText
							style="float:right; font-size:large; font-weight: bold; color:#525c65; margin-right:10px;"
							value="Estado:"></h:outputText>
						
					</div>

					<br />
					<br />

					<p:tabView id="tvInforme">

						<p:tab title="Portada">
							<pe:ckEditor id="infportada" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsPortada}" />
						</p:tab>
						<p:tab title="Indice">
							<pe:ckEditor id="infIndice" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsIndice}" />
						</p:tab>
						<p:tab title="Introducción">
							<pe:ckEditor id="infintroduccion" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsIntroduccion}" />
						</p:tab>
						<p:tab title="Objetivos">
							<pe:ckEditor id="infObjetivos" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsObjetivos}" />
						</p:tab>
						<p:tab title="Alcance">
							<pe:ckEditor id="infAlcance" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsAlcance}" />
						</p:tab>
						<p:tab title="Resultados">
							<p:commandButton id="btnActualizar" icon="pi pi-refresh"
								value="Actualizar Comentarios" styleClass="raised-btn"
								actionListener="#{informeSegMB.actualizarResultados}"
								update="@form" rendered="#{segMB.registro.segEstado eq 1}">
							</p:commandButton>
							<br />
							<br />
							<pe:ckEditor id="infresultados" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsResultados}" />
						</p:tab>
						<p:tab title="Conclusion">
							<pe:ckEditor id="infconclusion" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsConclusion}" />
						</p:tab>
						<p:tab title="Aclaracion">
							<pe:ckEditor id="infaclaracion" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsAclaracion}" />
						</p:tab>
						<p:tab title="Observaciones">
							<pe:ckEditor id="infobservaciones" width="100%" skin="office2013"
								readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsObservaciones}" />
						</p:tab>
						<p:tab title="Observaciones Jefatura">
							<pe:ckEditor id="infobservacionesJefe" width="100%"
								skin="office2013" readonly="#{segMB.registro.segEstado ne 1}"
								customConfig="#{request.contextPath}/resources/js/customck.js"
								value="#{informeSegMB.registro.infsObservacionesJefe}" />
						</p:tab>
						<p:tab title="Informes Firmados">
							<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
								styleClass="ui-panelgrid-blank form-group form-elements">
								<h:outputText value="Subida de archivos:"></h:outputText>
								<p:fileUpload listener="#{informeSegMB.handleFileUpload}"
									multiple="true" mode="advanced" dragDropSupport="false"
									cancelLabel="Cancelar" uploadLabel="Subir" label="Elegir"
									update="dtArchivos"
									allowTypes="/(\.|\/)(gif|jpe?g|png|doc|docx|xls|xlsx|pdf|ppt|pptx)$/" />
							</p:panelGrid>

							<p:dataTable var="a" value="#{arcMB.listado}" rowIndexVar="index"
								widgetVar="wvArchivos" reflow="true" id="dtArchivos"
								style="margin-top:20px;" paginator="true"
								paginatorPosition="top" rowsPerPageTemplate="1,5,10,15" rows="5"
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros"
								rowKey="#{a.arcId}">

								<p:column headerText="No.">
									<h:outputText value="#{index+1}"></h:outputText>
								</p:column>

								<p:column headerText="Nombre" filterBy="#{a.arcNombre}"
									filterMatchMode="contains">
									<h:outputText value="#{a.arcNombre}"></h:outputText>
								</p:column>

								<p:column headerText="Ver"
									style="width:60px; text-align:center;">
									<p:commandButton actionListener="#{arcMB.viewFile}"
										icon="pi pi-eye" oncomplete="PF('wvPDF').show();"
										title="Clic para ver el archivo">
										<f:attribute name="pt" value="#{a}"></f:attribute>
									</p:commandButton>
								</p:column>

								<p:column headerText="Descargar"
									style="width:60px; text-align:center;">
									<p:commandButton actionListener="#{arcMB.downloadFile}"
										ajax="false" icon="pi pi-download"
										title="Clic para descargar el archivo">
										<f:attribute name="pt" value="#{a}"></f:attribute>
										<p:fileDownload value="#{arcMB.pt}"></p:fileDownload>
									</p:commandButton>
								</p:column>

								<p:column headerText="Eliminar" style="width:60px;">
									<p:commandButton actionListener="#{arcMB.onBorrar(a)}"
										update="dtArchivos" icon="pi pi-trash"
										disabled="#{!informeSegMB.perEdit}"
										title="Clic para eliminar el archivo">
										<p:confirm header="Confirmación" message="¿Eliminar?"
											icon="pi pi-info-circle"></p:confirm>
									</p:commandButton>
								</p:column>
							</p:dataTable>
						</p:tab>
					</p:tabView>
				</p:tab>
				<p:tab title="Historial Seguimiento">
					<p:dataTable var="seg" value="#{segMB.listado}"
						rowIndexVar="indexSeguimiento" widgetVar="wvSeguimientos"
						reflow="true" id="dtSeguimientos" style="margin-top:20px;"
						paginator="true" selectionMode="single" rows="5"
						selection="#{segMB.seguimientoSelected}"
						paginatorPosition="bottom" rowsPerPageTemplate="5,10,15"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros"
						rowKey="#{seg.segId}">
						<p:ajax event="rowSelect"
							update="dtSeguimientos:tMenuSeguimientos"
							listener="#{segMB.onRowSeguimientoSelected}" />
						<f:facet name="header">
							<p:toolbar id="tMenuSeguimientos">
								<p:toolbarGroup>
									<p:commandButton id="btnRecSeguimiento"
										value="Recomendaciones y Comentarios" icon="pi pi-plus"
										rendered="#{segMB.seguimientoSelected.selected}"
										action="#{segMB.obtenerRecomendacionesSeguimiento()}"
										update=":dgRecomendacionesSeguimiento"
										oncomplete="PF('wvRecomendacionesSeguimiento').show();"
										styleClass="raised-btn">
									</p:commandButton>
								</p:toolbarGroup>
							</p:toolbar>
						</f:facet>
						<p:column headerText="N°" width="60" style="text-align:center;">
							<h:outputText value="#{indexSeguimiento+1}" />
						</p:column>
						<p:column headerText="Comentario">
							<h:outputText value="#{seg.segObservacion}">
							</h:outputText>
						</p:column>
						<p:column headerText="Fecha Inicio">
							<h:outputText value="#{seg.segFecInicio}">
								<f:convertDateTime pattern="dd-MM-yyyy hh:mm:ss" />
							</h:outputText>
						</p:column>
						<p:column headerText="Fecha Fin">
							<h:outputText value="#{seg.segFecFin}">
								<f:convertDateTime pattern="dd-MM-yyyy hh:mm:ss" />
							</h:outputText>
						</p:column>
					</p:dataTable>
				</p:tab>
			</p:tabView>
		</p:panel>
	</h:form>

	<p:dialog widgetVar="wvCorreoIniSeguimiento" modal="true"
		showEffect="fade" dynamic="true" closable="true" closeOnEscape="true"
		responsive="true" maximizable="true">
		<h:form id="frmCorreoIniSeguimiento">
			<p:commandButton id="btnEnviar" action="#{segMB.asignarSeguimiento}"
				title="Clic para enviar notificación"
				process=":frmCorreoIniSeguimiento"
				value="Notificar Asignación de Seguimiento"
				icon="pi pi-check-circle" style="float:left;"
				styleClass="blue-btn raised-btn"
				oncomplete="PF('wvCorreoIniSeguimiento').hide();"
				update=":frmSeguimiento">
				<p:confirm header="Confirmación"
					message="¿Desea notificar la asignación del seguimiento de la auditoría?"></p:confirm>
			</p:commandButton>

			<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
				styleClass="ui-panelgrid-blank form-group form-elements">
				<p:outputLabel>Fecha para iniciar el seguimiento</p:outputLabel>
				<p:calendar id="fechaLimite" value="#{segMB.registro.segFecInicio}"
					navigator="true" locale="es"></p:calendar>
				<p:outputLabel for="txtcorreo" value="Digite el texto del correo:"
					style="font-weight:bold;" />
				<pe:ckEditor id="txtcorreo" width="100%"
					value="#{segMB.textoCorreo}" skin="office2013"
					customConfig="#{request.contextPath}/resources/js/customck.js" />
			</p:panelGrid>
		</h:form>
	</p:dialog>

	<p:dialog widgetVar="wvCorreoFinInf" modal="true" showEffect="fade"
		closable="true" closeOnEscape="true" responsive="true">
		<h:form id="frmCorreoFinInf">
			<p:commandButton id="btnEnviar" action="#{informeSegMB.onFinalizarInf}"
				title="Clic para finalizar la revisión del informe y comunicar al Jefe de Auditoría"
				process=":frmCorreoFinInf" value="Finalizar Revisión"
				icon="pi pi-check-circle" style="float:left;"
				styleClass="blue-btn raised-btn"
				oncomplete="PF('wvCorreoFinInf').hide();" update=":frmSeguimiento">
				<p:confirm header="Confirmación" message="¿Finalizar Revisión?"></p:confirm>
			</p:commandButton>
			<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
				styleClass="ui-panelgrid-blank form-group form-elements">
				<p:outputLabel for="narra" value="Digite el texto del correo:"
					style="font-weight:bold;" />
				<pe:ckEditor id="narra" width="100%"
					value="#{informeSegMB.textoCorreoFinInf}" skin="office2013"
					customConfig="#{request.contextPath}/resources/js/customck.js" />
			</p:panelGrid>
		</h:form>
	</p:dialog>

	<p:dialog widgetVar="wvCorreoObsInfApb" modal="true" showEffect="fade"
		position="center" height="400" appendTo="@(body)" closable="true"
		closeOnEscape="true" responsive="true">
		<h:form id="frmCorreoObsInfApb">
			<p:commandButton id="btnEnviar"
				action="#{informeSegMB.onEnviarObservacionInfApb}"
				title="Clic para enviar las observaciones al auditor"
				process=":frmCorreoObsInfApb" value="Comunicar Observaciones"
				icon="pi pi-check-circle" style="float:left;"
				styleClass="blue-btn raised-btn"
				oncomplete="PF('wvCorreoObsInfApb').hide();"
				update=":frmSeguimiento">
				<p:confirm header="Confirmación" message="¿Enviar observaciones?"></p:confirm>
			</p:commandButton>
			<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
				styleClass="ui-panelgrid-blank form-group form-elements">
				<p:outputLabel for="narra" value="Digite el texto del correo:"
					style="font-weight:bold;" />
				<pe:ckEditor id="narra" width="100%"
					value="#{informeSegMB.textoCorreoObsInfApb}" skin="office2013"
					customConfig="#{request.contextPath}/resources/js/customck.js" />
			</p:panelGrid>
		</h:form>
	</p:dialog>

	<p:dialog widgetVar="wvCorreoObsInf" modal="true" showEffect="fade"
		position="center" height="400" appendTo="@(body)" closable="true"
		closeOnEscape="true" responsive="true">
		<h:form id="frmCorreoObsInf">
			<p:commandButton id="btnEnviar"
				action="#{informeSegMB.onEnviarObservacionInf}"
				title="Clic para enviar las observaciones al auditor"
				process=":frmCorreoObsInf" value="Comunicar Observaciones"
				icon="pi pi-check-circle" style="float:left;"
				styleClass="blue-btn raised-btn"
				oncomplete="PF('wvCorreoObsInf').hide();" update=":frmSeguimiento">
				<p:confirm header="Confirmación" message="¿Enviar observaciones?"></p:confirm>
			</p:commandButton>
			<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
				styleClass="ui-panelgrid-blank form-group form-elements">
				<p:outputLabel for="narra" value="Digite el texto del correo:"
					style="font-weight:bold;" />
				<pe:ckEditor id="narra" width="100%"
					value="#{informeSegMB.textoCorreoObsInf}" skin="office2013"
					customConfig="#{request.contextPath}/resources/js/customck.js" />
			</p:panelGrid>
		</h:form>
	</p:dialog>

	<p:dialog widgetVar="wvCorreoInf" modal="true" showEffect="fade"
		position="center" height="400" appendTo="@(body)" closable="true"
		closeOnEscape="true" responsive="true">
		<h:form id="frmCorreoInf">
			<p:commandButton id="btnEnviar"
				action="#{informeSegMB.onEnviarRevisionInf}"
				oncomplete="PF('wvCorreoInf').hide();"
				title="Clic para enviar a revision el informe"
				process=":frmCorreoInf" value="Enviar a Revisión"
				icon="pi pi-check-circle" style="float:left;"
				styleClass="blue-btn raised-btn" update=":frmSeguimiento">
				<p:confirm header="Confirmación" message="¿Enviar a revisión?"></p:confirm>
			</p:commandButton>
			<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
				styleClass="ui-panelgrid-blank form-group form-elements">
				<p:outputLabel for="inf" value="Digite el texto del correo:"
					style="font-weight:bold;" />
				<pe:ckEditor id="inf" width="100%" skin="office2013"
					customConfig="#{request.contextPath}/resources/js/customck.js"
					value="#{informeSegMB.textoCorreoInf}" />
			</p:panelGrid>
		</h:form>
	</p:dialog>

	<p:dialog widgetVar="wvCorreoFinInfApb" modal="true" showEffect="fade"
		closable="true" closeOnEscape="true" responsive="true">
		<h:form id="frmCorreoFinInfApb">
			<p:commandButton id="btnEnviar"
				action="#{informeSegMB.onFinalizarInfApb}"
				title="Clic para finalizar la revisión del informe y comunicar al Jefe de Auditoría"
				process=":frmCorreoFinInfApb" value="Aprobar Informe"
				icon="pi pi-check-circle" style="float:left;"
				styleClass="blue-btn raised-btn"
				oncomplete="PF('wvCorreoFinInfApb').hide();"
				update=":frmSeguimiento">
				<p:confirm header="Confirmación"
					message="¿Finalizar Revisió y Aprobar Informe?"></p:confirm>
			</p:commandButton>
			<p:panelGrid columns="1" columnClasses="ui-g-12" layout="grid"
				styleClass="ui-panelgrid-blank form-group form-elements">
				<p:outputLabel for="narra" value="Digite el texto del correo:"
					style="font-weight:bold;" />
				<pe:ckEditor id="narra" width="100%"
					value="#{informeSegMB.textoCorreoFinInfApb}" skin="office2013"
					customConfig="#{request.contextPath}/resources/js/customck.js" />
			</p:panelGrid>
		</h:form>
	</p:dialog>

</ui:composition>
